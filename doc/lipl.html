<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>LIPL</title>
<meta name="author" content="Sam Lee" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="lipl">
<h1 class="title">LIPL</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Sam Lee</td></tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="auto-toc simple">
<li><a class="reference" href="#introduction" id="id4" name="id4">1&nbsp;&nbsp;&nbsp;Introduction</a></li>
<li><a class="reference" href="#syntax" id="id5" name="id5">2&nbsp;&nbsp;&nbsp;Syntax</a><ul class="auto-toc">
<li><a class="reference" href="#ebnf" id="id6" name="id6">2.1&nbsp;&nbsp;&nbsp;EBNF</a></li>
<li><a class="reference" href="#predefined-non-terminals" id="id7" name="id7">2.2&nbsp;&nbsp;&nbsp;Predefined non-terminals</a></li>
<li><a class="reference" href="#lexical-items" id="id8" name="id8">2.3&nbsp;&nbsp;&nbsp;Lexical items</a></li>
<li><a class="reference" href="#expressions" id="id9" name="id9">2.4&nbsp;&nbsp;&nbsp;Expressions</a></li>
</ul>
</li>
<li><a class="reference" href="#lexicon" id="id10" name="id10">3&nbsp;&nbsp;&nbsp;Lexicon</a><ul class="auto-toc">
<li><a class="reference" href="#boolean" id="id11" name="id11">3.1&nbsp;&nbsp;&nbsp;Boolean</a></li>
<li><a class="reference" href="#number" id="id12" name="id12">3.2&nbsp;&nbsp;&nbsp;Number</a></li>
<li><a class="reference" href="#character" id="id13" name="id13">3.3&nbsp;&nbsp;&nbsp;Character</a></li>
<li><a class="reference" href="#string" id="id14" name="id14">3.4&nbsp;&nbsp;&nbsp;String</a></li>
<li><a class="reference" href="#identifier" id="id15" name="id15">3.5&nbsp;&nbsp;&nbsp;Identifier</a></li>
<li><a class="reference" href="#operator" id="id16" name="id16">3.6&nbsp;&nbsp;&nbsp;Operator</a></li>
<li><a class="reference" href="#list" id="id17" name="id17">3.7&nbsp;&nbsp;&nbsp;List</a></li>
<li><a class="reference" href="#token" id="id18" name="id18">3.8&nbsp;&nbsp;&nbsp;Token</a></li>
<li><a class="reference" href="#expression" id="id19" name="id19">3.9&nbsp;&nbsp;&nbsp;Expression</a></li>
</ul>
</li>
<li><a class="reference" href="#structure" id="id20" name="id20">4&nbsp;&nbsp;&nbsp;Structure</a><ul class="auto-toc">
<li><a class="reference" href="#function-application" id="id21" name="id21">4.1&nbsp;&nbsp;&nbsp;Function Application</a></li>
<li><a class="reference" href="#function-definition" id="id22" name="id22">4.2&nbsp;&nbsp;&nbsp;Function Definition</a></li>
<li><a class="reference" href="#local-scope" id="id23" name="id23">4.3&nbsp;&nbsp;&nbsp;Local Scope</a></li>
<li><a class="reference" href="#conditional" id="id24" name="id24">4.4&nbsp;&nbsp;&nbsp;Conditional</a><ul class="auto-toc">
<li><a class="reference" href="#if" id="id25" name="id25">4.4.1&nbsp;&nbsp;&nbsp;If</a></li>
<li><a class="reference" href="#case" id="id26" name="id26">4.4.2&nbsp;&nbsp;&nbsp;Case</a></li>
</ul>
</li>
<li><a class="reference" href="#data-type" id="id27" name="id27">4.5&nbsp;&nbsp;&nbsp;Data Type</a><ul class="auto-toc">
<li><a class="reference" href="#product-type" id="id28" name="id28">4.5.1&nbsp;&nbsp;&nbsp;Product Type</a></li>
<li><a class="reference" href="#sum-type" id="id29" name="id29">4.5.2&nbsp;&nbsp;&nbsp;Sum Type</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference" href="#examples" id="id30" name="id30">5&nbsp;&nbsp;&nbsp;Examples</a><ul class="auto-toc">
<li><a class="reference" href="#fibonacci" id="id31" name="id31">5.1&nbsp;&nbsp;&nbsp;Fibonacci</a></li>
<li><a class="reference" href="#id3" id="id32" name="id32">5.2&nbsp;&nbsp;&nbsp;List</a></li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="introduction" name="introduction">1&nbsp;&nbsp;&nbsp;Introduction</a></h1>
<p>LIPL is a functional programming language.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id5" id="syntax" name="syntax">2&nbsp;&nbsp;&nbsp;Syntax</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id6" id="ebnf" name="ebnf">2.1&nbsp;&nbsp;&nbsp;EBNF</a></h2>
<p>Informal EBNF <a class="footnote-reference" href="#id2" id="id1" name="id1">[1]</a> is used.</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1" name="id2">[1]</a></td><td><p class="first"><a class="reference" href="http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form">http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form</a></p>
<ul class="last simple">
<li><tt class="docutils literal"><span class="pre">{e}</span></tt> : zero or more occurrence of e</li>
<li><tt class="docutils literal"><span class="pre">[e]</span></tt> : zero or one occurrence of e</li>
<li><tt class="docutils literal"><span class="pre">(e1</span> <span class="pre">|</span> <span class="pre">e2)</span></tt> : one occurrence of e1 or e2</li>
<li><tt class="docutils literal"><span class="pre">(*</span> <span class="pre">e</span> <span class="pre">*)</span></tt> : e is ignored. comments.</li>
<li><tt class="docutils literal"><span class="pre">'e'</span></tt> or <tt class="docutils literal"><span class="pre">&quot;e&quot;</span></tt> : literal e</li>
<li><tt class="docutils literal"><span class="pre">?</span> <span class="pre">e</span> <span class="pre">?</span></tt> : e is special sequence.
used here to explain difficult express terms.</li>
</ul>
</td></tr>
</tbody>
</table>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id7" id="predefined-non-terminals" name="predefined-non-terminals">2.2&nbsp;&nbsp;&nbsp;Predefined non-terminals</a></h2>
<p>Predefined non-terminals for convenience.</p>
<pre class="literal-block">
letter = (* alphabetic character *)
digit = '0' | '1' | ... '9'
space = ' ' | '\t' | ...
    (* white space character *)
spaces = space { space }
    (* one or more spaces (mandatory) *)
ws = [ spaces ]
    (* optional spaces *)
nat = digit { digit }
    (* natural number. allowing leading zeros *)
integer = [ ( '-' | '+' ) ] nat
    (* optional - or + *)
float = [ ( '-' | '+' ) ] nat '.' nat
    (* floating point number. . must present *)
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id8" id="lexical-items" name="lexical-items">2.3&nbsp;&nbsp;&nbsp;Lexical items</a></h2>
<p>Defines what can be a token.</p>
<pre class="literal-block">
ident = letter { ( letter | digit | '_' | '-' ) }
    (* identifier. starts with a letter. *)
op = '+' | '-' | ...
    (* predefined operators or functions *)
boolean = 'True' | 'False'
number = integer | float
char = &quot;'&quot; ? any single character ? &quot;'&quot;
    (* unicode character. ' should be escaped. *)
string = '&quot;' ? characters with escaped '&quot;' ? '&quot;'
list = '[' ']'
     | '[' token { ',' token } ']'
    (* comma separated tokens. enclosed by [] *)
token = ident | op | string | number | list | expr
tokens = token spaces token { spaces token }
    (* space separated tokens *)
expr = '(' tokens ')'
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id9" id="expressions" name="expressions">2.4&nbsp;&nbsp;&nbsp;Expressions</a></h2>
<p>All expressions are enclosed in <tt class="docutils literal"><span class="pre">()</span></tt>.  And, tokens
in an expression are separated by white-spaces.
Here, white-space token delimiters are omitted.</p>
<pre class="literal-block">
fun-def = '(' 'def' ident ident-list token ')'
    (* function definition *)
fun-app = '(' ident idents ')'
    (* function application *)
ident-list = '(' idents ')'
idents = ident { spaces ident }

if = '(' 'if' token token token ')'
    (* conditional *)
case = '(' 'case' branches ')'
    (* multi-branch conditional *)
branches = '(' branch ')'
branch = '(' token token ')'

let = '(' 'let' pairs token ')'
    (* creating local scope *)
pairs = branches
</pre>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="lexicon" name="lexicon">3&nbsp;&nbsp;&nbsp;Lexicon</a></h1>
<p>Explanation of basic building blocks of LIPL.</p>
<div class="section">
<h2><a class="toc-backref" href="#id11" id="boolean" name="boolean">3.1&nbsp;&nbsp;&nbsp;Boolean</a></h2>
<p>A boolean can be either True or False.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id12" id="number" name="number">3.2&nbsp;&nbsp;&nbsp;Number</a></h2>
<p>A number can be an integer: 1, +2, -32532, -00342, ...
Or, a floating point number: +000.234, -23.43, 0.0023402, ...</p>
<p>A number evaluates to itself. A number cannot be bound.
For example, 42 evaluates to 42.
It can not have another meaning.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id13" id="character" name="character">3.3&nbsp;&nbsp;&nbsp;Character</a></h2>
<p>A character is any unicode character enclosed in <tt class="docutils literal"><span class="pre">''</span></tt>.
For example, 'a', 'B', '2', ''' ... are valid characters.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id14" id="string" name="string">3.4&nbsp;&nbsp;&nbsp;String</a></h2>
<p>A string is a sequence of characters enclosed inside <tt class="docutils literal"><span class="pre">&quot;</span></tt>.
Characters that make up a string are not surrounded by <tt class="docutils literal"><span class="pre">''</span></tt>.
For example, &quot;aB2'&quot; is a valid string.</p>
<p>To use <tt class="docutils literal"><span class="pre">&quot;</span></tt> inside a string, escape it using <tt class="docutils literal"><span class="pre">\</span></tt>.
More examples: &quot;hi! i'm a string&quot;, &quot;let's escape &quot;!!&quot;, ...</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id15" id="identifier" name="identifier">3.5&nbsp;&nbsp;&nbsp;Identifier</a></h2>
<p>An identifier starts with an alphabetic letter, and continues
with a sequence of digits, letters, <tt class="docutils literal"><span class="pre">-</span></tt>, or <tt class="docutils literal"><span class="pre">_</span></tt>.</p>
<p>For example, abc, abC123, apple-pie, apple_123, ... are valid
identifiers.</p>
<p>An identifier is bound to some other value.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id16" id="operator" name="operator">3.6&nbsp;&nbsp;&nbsp;Operator</a></h2>
<p>An operator starts with one of special characters:
<tt class="docutils literal"><span class="pre">+=_-*&amp;^%$#&#64;!~`</span></tt>.
Otherwise, it is same as identifier, i.e., they denote some
other values.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id17" id="list" name="list">3.7&nbsp;&nbsp;&nbsp;List</a></h2>
<p>A list is enclosed by <tt class="docutils literal"><span class="pre">[]</span></tt>. Elements in a list are separated
by <tt class="docutils literal"><span class="pre">,</span></tt>.</p>
<p>A list is homogeneous.
For example, <tt class="docutils literal"><span class="pre">[1,2,3]</span></tt> is a valid list, while <tt class="docutils literal"><span class="pre">[1,2,&quot;hi&quot;]</span></tt> is not.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id18" id="token" name="token">3.8&nbsp;&nbsp;&nbsp;Token</a></h2>
<p>A token is either a list, a boolean, a number, a character, a string,
an identifier, an operator, or an expression.</p>
<p>It is the smallest meaningful unit in LIPL.</p>
<p>Examples include: foo, 123, &quot;hello world!&quot;, '*', +, (+ 1 2), ...</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id19" id="expression" name="expression">3.9&nbsp;&nbsp;&nbsp;Expression</a></h2>
<p>An expression is a sequence of whitespace delimited tokens.
Since a token can be an expression, nested expressions are allowed.</p>
<p>For example, (+ (- 1 2) 3) is a valid expression.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id20" id="structure" name="structure">4&nbsp;&nbsp;&nbsp;Structure</a></h1>
<p>Different structures (expressions) are available.</p>
<div class="section">
<h2><a class="toc-backref" href="#id21" id="function-application" name="function-application">4.1&nbsp;&nbsp;&nbsp;Function Application</a></h2>
<p>When the first token in an expression is an identifier or an operator,
the expression is function application expression.</p>
<p><tt class="docutils literal"><span class="pre">(func</span> <span class="pre">arg1</span> <span class="pre">arg2</span> <span class="pre">...</span> <span class="pre">argN)</span></tt> denotes application of a function
named <tt class="docutils literal"><span class="pre">func</span></tt> on arguments arg1 through argN.</p>
<blockquote>
(+ 1 2)
==&gt; 3</blockquote>
<p>applies the operator function <tt class="docutils literal"><span class="pre">+</span></tt> on arguments 1 and 2.
Since the operator <tt class="docutils literal"><span class="pre">+</span></tt> adds two numbers, the expression yields 3.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id22" id="function-definition" name="function-definition">4.2&nbsp;&nbsp;&nbsp;Function Definition</a></h2>
<p>To define a function, use <strong>def</strong> keyword.</p>
<p><tt class="docutils literal"><span class="pre">(def</span> <span class="pre">ident</span> <span class="pre">args</span> <span class="pre">body)</span></tt>
defines a new function whose arguments are args and body is body.
And, binds the function to ident.</p>
<pre class="literal-block">
(def fac n (
    if (&lt; n 2)
       1
       (* n (fac (- n 1)))
))
(fac 4)
==&gt; 24
</pre>
<p>defines a factorial function and calls it with argument 4.
So, it returns 24 <em>(= 4!)</em>.</p>
<p>Note that an expression can contain new lines.
And, the line that starts with <tt class="docutils literal"><span class="pre">==&gt;</span></tt> is the value of previous expression.</p>
<pre class="literal-block">
(def add (a b) (+ a b))
(add 2 3)
==&gt; 5
</pre>
<p>defines a function <tt class="docutils literal"><span class="pre">add</span></tt> that adds two numbers
and calls it with parameters 2 and 3.</p>
<p>You can define a constant using function definition syntax.</p>
<pre class="literal-block">
(def one () 1)
(one)
==&gt; 1
</pre>
<p>Here, <tt class="docutils literal"><span class="pre">one</span></tt> is bound to a function that takes no parameter and returns 1.
So, calling the function <tt class="docutils literal"><span class="pre">one</span></tt> yields 1.
Note that <tt class="docutils literal"><span class="pre">()</span></tt> is used to say that the function takes no parameter.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id23" id="local-scope" name="local-scope">4.3&nbsp;&nbsp;&nbsp;Local Scope</a></h2>
<p>A local scope can be created using <strong>let</strong> keyword.</p>
<p><tt class="docutils literal"><span class="pre">(let</span> <span class="pre">((k1</span> <span class="pre">v1)</span> <span class="pre">(k2</span> <span class="pre">v2)</span> <span class="pre">...</span> <span class="pre">(kN</span> <span class="pre">vN))</span> <span class="pre">body)</span></tt>
creates a new environment where ki is bound to vi.
Then, it evaluates <tt class="docutils literal"><span class="pre">body</span></tt> in the new environment.</p>
<pre class="literal-block">
(def a () &quot;hello&quot;)
(def foo () 2)
(let ((a 2)
      (b foo))
     (let ((a 1)) a))
==&gt; 1
</pre>
<p>The top-level <tt class="docutils literal"><span class="pre">a</span></tt> is a function that takes no parameter
and returns &quot;hello&quot;. <tt class="docutils literal"><span class="pre">foo</span></tt> takes no parameter and returns 2.
Then, there are 2 local scopes: one at the top-level, one nested in
the top-level local scope.</p>
<p>In the top-level local scope, <tt class="docutils literal"><span class="pre">a</span></tt> and <tt class="docutils literal"><span class="pre">b</span></tt> are both 2 (<tt class="docutils literal"><span class="pre">b</span></tt> is
<tt class="docutils literal"><span class="pre">foo</span></tt>, which is 2).
The value of the top-level local scope is the value of the nested
local scope, <tt class="docutils literal"><span class="pre">a</span></tt>.
<tt class="docutils literal"><span class="pre">a</span></tt> in the nested local scope, however, is 1.
So, the value of top-level local scope is 1.</p>
<p>In other words, a local scope created by <strong>let</strong> expression
shadows previously defined identifiers.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id24" id="conditional" name="conditional">4.4&nbsp;&nbsp;&nbsp;Conditional</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id25" id="if" name="if">4.4.1&nbsp;&nbsp;&nbsp;If</a></h3>
<p>To create a single branch conditional, use <strong>if</strong> keyword.</p>
<p><tt class="docutils literal"><span class="pre">(if</span> <span class="pre">bool</span> <span class="pre">if-case</span> <span class="pre">else-case)</span></tt> evaluates <tt class="docutils literal"><span class="pre">if-case</span></tt> if <tt class="docutils literal"><span class="pre">bool</span></tt>
has true value. Otherwise, it evaluates <tt class="docutils literal"><span class="pre">else-case</span></tt>.</p>
<pre class="literal-block">
(if (== 1 2) &quot;hey&quot; (if (== 1 1)
                       &quot;bye&quot;
                       &quot;???&quot;))
==&gt; &quot;bye&quot;
</pre>
<p>In the first if expression, <tt class="docutils literal"><span class="pre">(==</span> <span class="pre">1</span> <span class="pre">2)</span></tt> evaluates to false because
<tt class="docutils literal"><span class="pre">==</span></tt> is equality testing operator and 1 and 2 are not equal.
So, instead of evaluating the string &quot;hey&quot;, the second if expression
is evaluated, where <tt class="docutils literal"><span class="pre">(==</span> <span class="pre">1</span> <span class="pre">1)</span></tt> yields true value.
Hence, &quot;bye&quot; is returned.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id26" id="case" name="case">4.4.2&nbsp;&nbsp;&nbsp;Case</a></h3>
<p>To use multi-branch conditional, use <strong>case</strong> keyword.</p>
<p><tt class="docutils literal"><span class="pre">(case</span> <span class="pre">((bool1</span> <span class="pre">e1)</span> <span class="pre">(bool2</span> <span class="pre">e2)</span> <span class="pre">...</span> <span class="pre">(boolN</span> <span class="pre">eN)))</span></tt>
tests truth value of booli. As soon as it finds that booli is true,
it evaluates the expression paired with the boolean, ei.</p>
<pre class="literal-block">
(case (
    ((== 1 2) &quot;one is same as two&quot;)
    (False &quot;do not ever evaluate this string&quot;)
    ((&lt; 1 2) (case ((True &quot;yay&quot;))))
    (True &quot;will I be evaluated?&quot;)
))
==&gt; &quot;yay&quot;
</pre>
<p>The above case expression tests the first boolean value returned by
<tt class="docutils literal"><span class="pre">(==</span> <span class="pre">1</span> <span class="pre">2)</span></tt>. False is returned. So, it continues on the second
boolean value and third.
On the third expression, <tt class="docutils literal"><span class="pre">(&lt;</span> <span class="pre">1</span> <span class="pre">2)</span></tt>, True is returned.
So, the nested case expression is evaluated. And, &quot;yay&quot; is returned.</p>
<p>Although the fourth boolean value is True, the case expression
does not evaluate it because the third case was already True.</p>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id27" id="data-type" name="data-type">4.5&nbsp;&nbsp;&nbsp;Data Type</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id28" id="product-type" name="product-type">4.5.1&nbsp;&nbsp;&nbsp;Product Type</a></h3>
<p><tt class="docutils literal"><span class="pre">pt</span> <span class="pre">Constructor</span> <span class="pre">TypeSignature</span></tt> creates a product type
that can be constructed using <tt class="docutils literal"><span class="pre">Constructor</span></tt>.</p>
<pre class="literal-block">
pt Foo (Int Float String)
= a (Foo 1 2.3 &quot;hello&quot;)
</pre>
<p><tt class="docutils literal"><span class="pre">Foo</span></tt> can be used to construct an object made of <tt class="docutils literal"><span class="pre">Int</span></tt>
, <tt class="docutils literal"><span class="pre">Float</span></tt>, and <tt class="docutils literal"><span class="pre">String</span></tt>.
<tt class="docutils literal"><span class="pre">a</span></tt> is bound to a such object.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id29" id="sum-type" name="sum-type">4.5.2&nbsp;&nbsp;&nbsp;Sum Type</a></h3>
<p><tt class="docutils literal"><span class="pre">data</span> <span class="pre">TypeName</span> <span class="pre">ProductTypes</span></tt> creates a sum type of product types.</p>
<pre class="literal-block">
data Person (
    (pt Male (String String))
    (pt Female (String String Int))
)
</pre>
<p>creates a sum type <tt class="docutils literal"><span class="pre">Person</span></tt> that can be constructed using
either <tt class="docutils literal"><span class="pre">Male</span></tt> or <tt class="docutils literal"><span class="pre">Female</span></tt> constructor.</p>
<pre class="literal-block">
typeof f (Person String)
def f p (case p (
    ((Male _ lname) (++ &quot;Mr. &quot; lname))
    (_ (++ &quot;Ms. &quot; lname))
))
f (Female &quot;Jane&quot; &quot;Lipl&quot; 1)
==&gt; &quot;Ms. Lipl&quot;
</pre>
<p><tt class="docutils literal"><span class="pre">typeof</span> <span class="pre">f</span> <span class="pre">(Person</span> <span class="pre">String)</span></tt> declares type of <tt class="docutils literal"><span class="pre">f</span></tt> to be
<tt class="docutils literal"><span class="pre">Person</span> <span class="pre">-&gt;</span> <span class="pre">String</span></tt> (a function that takes a Person and returns
String).
<tt class="docutils literal"><span class="pre">f</span></tt> is defined so that when the parameter passed to it was
<tt class="docutils literal"><span class="pre">(Male</span> <span class="pre">...)</span></tt>, it returns <tt class="docutils literal"><span class="pre">&quot;Mr.</span> <span class="pre">&lt;last</span> <span class="pre">name&gt;&quot;</span></tt>.
Otherwise, it returns <tt class="docutils literal"><span class="pre">&quot;Ms.</span> <span class="pre">&lt;last</span> <span class="pre">name&gt;&quot;</span></tt>.</p>
</div>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id30" id="examples" name="examples">5&nbsp;&nbsp;&nbsp;Examples</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id31" id="fibonacci" name="fibonacci">5.1&nbsp;&nbsp;&nbsp;Fibonacci</a></h2>
<pre class="literal-block">
typeof fib (Int Int)
def fib n (if (&lt; n 2)
              n
              (+ (fib (- n 1)) (fib (- n 2))))
fib 4
==&gt; 3
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id32" id="id3" name="id3">5.2&nbsp;&nbsp;&nbsp;List</a></h2>
<pre class="literal-block">
data (List a) (
    Empty
    (Cons a List)
)

typeof sum ((List Int) Int)
def sum l (case l (
    (Empty 0)
    ((Cons i li) (+ i (sum li)))
))
sum (Cons 1 (Cons 2 (Cons 3 (Cons 4 Empty))))
==&gt; 10
</pre>
</div>
</div>
</div>
</body>
</html>
